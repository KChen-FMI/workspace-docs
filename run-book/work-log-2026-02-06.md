# Work Log (Journal)

## 進め方サマリー（チーム共有用）
- 目的: IT規程からITサービスに必要な要求を抽出・レビューできる状態にする
- 進め方: ルール抽出 → 限界確認 → LLM抽出PoC → 運用設計
- 前提: 人間レビュー必須、Azure OpenAI APIはオンデマンド利用

## 時系列ログ（簡易サマリー付き）
注記: 日付はファイルの更新日時、同日の順序は内容から推定。

---
### 2026-02-05
- 何をした: LLMウィザードのPoC計画書を作成
- なぜ: 既存データからサービスカタログ更新の有効性を検証するため
- 分かったこと: 抽出・紐づけ・スコープ判定・アクティビティ提案の4観点で評価整理が必要
- 次にやる: テストケースと評価の記録テンプレートを作成
- 成果物: `run-book/POC/poc-plan.md`

### 2026-02-05
- 何をした: LLM Wizardのテストプラン兼レポートのテンプレートを作成
- なぜ: 実施記録と評価結果を一貫した形式で残すため
- 分かったこと: データソース別に評価観点を揃えると比較しやすい
- 次にやる: サンプル件数と採点ルールを確定
- 成果物: `run-book/POC/test-plan-report.md`

---
### 2026-02-06
- 何をした: 規程一覧化とITサービス観点の整理を行い、レビュー表を作成
- なぜ: 対象範囲を可視化し、ITサービスに必要な要求を整理するため
- 分かったこと: 規程は番号でグルーピングすると整理が進みやすい
- 次にやる: レビュー表を共有・フィードバック反映
- 成果物: `run-book/POC/it-support-policy-review.md`

### 2026-02-06
- 何をした: レビュー表の静的HTMLビューアを作成（フィルタ付き）
- なぜ: チーム内で閲覧・共有しやすくするため
- 分かったこと: HTML化で運用しやすい
- 次にやる: レビュー表の運用ルールを決める
- 成果物: `run-book/POC/it-support-policy-review.html`

### 2026-02-06
- 何をした: 既存ルールベース抽出スクリプトでPDFを抽出
- なぜ: 既存方式でどこまで抽出できるか限界を確認するため
- 分かったこと: 方針型文書では抽出がほぼ0件
- 次にやる: 抽出の限界原因を整理し、代替手段を検討
- 参照: `run-book/skills/readonly-doc-extraction/scripts/extract_regulation_pdf.py`

### 2026-02-06
- 何をした: 抽出結果JSONを一括表示する軽量HTMLビューアを作成
- なぜ: 抽出結果の中身を素早く確認するため
- 分かったこと: JSONの目視確認はビューアがあると効率が良い
- 次にやる: レビュー入力を追加できるか検討
- 成果物: `run-book/POC/Testdata/policy-json-viewer.html`

### 2026-02-06
- 何をした: ルールベース抽出の限界原因を整理
- なぜ: 方式変更の判断材料にするため
- 分かったこと: ルールベースは条文形式が前提で、方針/計画書に弱い
- 次にやる: LLM抽出の有効性を評価するPoCへ移行

### 2026-02-06
- 何をした: LLM抽出PoCの方針決定（精度優先・人間レビュー必須）
- なぜ: 実運用で誤抽出を減らす必要があるため
- 分かったこと: Azure OpenAI APIのオンデマンド利用が合理的
- 次にやる: PoC計画書を作成し対象文書を選定

### 2026-02-06
- 何をした: LLM抽出PoC計画書を作成（手順・指標・判定基準）
- なぜ: 評価の観点を揃えるため
- 分かったこと: 目的と評価指標が明確だとPoCが進めやすい
- 次にやる: PoC対象文書の確定と実施
- 成果物: `run-book/POC/llm-extraction-poc-plan.md`

### 2026-02-06
- 何をした: レビュー拡張（`reviewer_notes` の追加とビューア対応）
- なぜ: 人間レビューのコメントを残す運用にするため
- 分かったこと: 既存JSONとビューアにも同時反映が必要
- 次にやる: レビュー運用フローを確定
- 成果物:
- `run-book/POC/llm-extraction-review-template.md`
- `run-book/skills/readonly-doc-extraction/references/schema.md`
- `run-book/POC/Testdata/policy-json-viewer.html`

## 判断ポイント
- ルールベース抽出のみで運用 → 非条文文書の抽出不足で不十分
- LLM抽出の導入検討 → 高精度が必要・人間レビュー前提・低頻度更新
- APIの必要性 → Azure OpenAI APIをオンデマンドで利用が合理的

## 生成/更新された主な成果物
- `run-book/POC/it-support-policy-review.md`
- `run-book/POC/it-support-policy-review.html`
- `run-book/POC/Testdata/policy-json-viewer.html`
- `run-book/POC/llm-extraction-poc-plan.md`
- `run-book/POC/llm-extraction-review-template.md`
- `run-book/skills/readonly-doc-extraction/references/schema.md`

## 次のステップ候補
- LLM抽出PoCの実行（Azure OpenAI API前提）
- レビュー評価テンプレートの運用開始
- LLM抽出スキルの設計/実装
